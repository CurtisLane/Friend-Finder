<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <!-- <link rel="manifest" href="/site.webmanifest"> -->
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    
    <title>Friend Finder Survey</title>
</head>
<body class="bg-light">

    <!-- Survey Questions: [drop down choices: (1) strongly disagree, (2) disagree, (3) neither agree or disagree, (4) agree, (5) strongly agree]
        1. In order to have my respect, you have to earn it.
        2. Most people have my best interests in mind.
        3. In general I am comfortable with being myself around other people.
        4. I enjoy being with large groups of people for extended periods of time.
        5. Once trust is broken, it can never be reestablished.
        6. Most of my friends would say that I'm a positive and uplifting person to be around.
        7. There's nothing wrong with being brutally honest, even if it hurts someone's feelings.
        8. It's ok to get back at someone who has wronged you.
        9. I would rather be chasing a goal than enjoying leisure.
        10. Most of the people on this planet are good natured and kind.  -->
    
    <div class="container mt-5">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8 offset-md-1 offset-lg-2">
                <h1>Survey Questions</h1>
                <hr class="my-4">
                <form action="POST">
                    <div class="form-group">
                      <label for="name">Name</label>
                      <input type="text" class="form-control" id="name" required>
                      <small class="form-text text-muted">* Required</small>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                      <label for="photo">Put your photo URL in here</label>
                      <input type="text" class="form-control" id="photo" required>
                      <small class="form-text text-muted">* Required</small>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionOne">1. In order to have my respect, you have to earn it.</label>
                        <select class="form-control" id="questionOne">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionTwo">2. Most people have my best interests in mind.</label>
                        <select class="form-control" id="questionTwo">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionThree">3. In general I am comfortable with being myself around other people.</label>
                        <select class="form-control" id="questionThree">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionFour">4. I enjoy being with large groups of people for extended periods of time.</label>
                        <select class="form-control" id="questionFour">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionFive">5. Once trust is broken, it can never be reestablished.</label>
                        <select class="form-control" id="questionFive">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionSix">6. Most of my friends would say that I'm a positive and uplifting person to be around.</label>
                        <select class="form-control" id="questionSix">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionSeven">7. There's nothing wrong with being brutally honest, even if it hurts someone's feelings.</label>
                        <select class="form-control" id="questionSeven">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionEight">8. It's ok to get back at someone who has wronged you.</label>
                        <select class="form-control" id="questionEight">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionNine">9. I would rather be chasing a goal than enjoying leisure.</label>
                        <select class="form-control" id="questionNine">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    <hr class="my-4">
                    <div class="form-group">
                        <label for="questionTen">10. Most of the people on this planet are good natured and kind.</label>
                        <select class="form-control" id="questionTen">
                            <option default value selected="selected" disabled>Select an option</option>
                            <option value="5">(5) Strongly agree</option>
                            <option value="4">(4) Agree</option>
                            <option value="3">(3) Neither agree or disagree</option>
                            <option value="2">(2) Disagree</option>
                            <option value="1">(1) Strongly disagree</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary my-3" id="submit">Submit</button>
                  </form>
            </div>
        </div>
    </div>

    <footer class="mx-auto text-center mb-1">
        <small>
            <a href="/api/friends">Friends List</a> | <a href="https://github.com/CurtisLane/Friend-Finder">Github Repo</a>
        </small>
    </footer>

    <!-- Modal -->
    <div class="modal fade" id="friend-match-modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Your Perfect Friend Match is</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                <h2 id="friend-match-name"></h2>
                <img id="friend-match-img" src="" style="max-width: 90%;">
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
        </div>
    </div>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

    <!-- Bootstrap Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <!-- Server scripts -->
    <script type="text/javascript">

        $('#submit').on('click', function(event){
            event.preventDefault();

            let newFriend = {
                name: $('#name').val().trim(),
                photo: $('#photo').val().trim(),
                scores: [
                    $('#questionOne').val(),
                    $('#questionTwo').val(),
                    $('#questionThree').val(),
                    $('#questionFour').val(),
                    $('#questionFive').val(),
                    $('#questionSix').val(),
                    $('#questionSeven').val(),
                    $('#questionEight').val(),
                    $('#questionNine').val(),
                    $('#questionTen').val()
                ]
            }
            $.post('/api/friends', newFriend, function(data){
                console.log(data)
                
                $('#friend-match-name').text(data[0].name)
                $('#friend-match-img').attr('src', data[data.length - 1].photo)
                $('#friend-match-modal').modal('show')
                
                
            })


        }) // Close #sumbit on click handler
        
        </script>
</body>
</html>

